{% extends "layout.html" %}

{% block title %}Log Physical Activity{% endblock %}

{% block main %}
    <h2>üèÉ Log Physical Activity</h2>
    <form method="POST">
        <label for="date_logged">Date of Activity:</label>
        <input type="date" id="date_logged" name="date_logged" value="{{ today }}" required>
        
        <label for="activity_type">Activity Type:</label>
        <input type="text" id="activity_type" name="activity_type" placeholder="e.g., Walk, Resistance Training" required>
        
        <label for="duration_minutes">Duration (minutes):</label>
        <input type="number" id="duration_minutes" name="duration_minutes" required min="1" step="0.1" placeholder="e.g., 49.0">
        
        <label for="calories_burned">Calories Burned (kcal):</label>
        <input type="number" id="calories_burned" name="calories_burned" required min="1" placeholder="e.g., 387">
        
        <label for="distance_miles">Distance (miles, optional):</label>
        <input type="number" id="distance_miles" name="distance_miles" min="0" step="0.01" placeholder="e.g., 2.35">
        
        <label for="notes">Notes (optional):</label>
        <textarea id="notes" name="notes" rows="2" placeholder="e.g., Walked around neighborhood with dogs"></textarea>
        
        <button type="submit">Log Activity</button>
    </form>

    <hr>

    <h3>Your Recent Activity Entries</h3>
    {% if activities %}
        <table>
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Activity</th>
                    <th>Duration (min)</th>
                    <th>Calories Burned</th>
                    <th>Distance (mi)</th>
                    <th>Notes</th>
                </tr>
            </thead>
            <tbody>
                {% for activity in activities %}
                <tr>
                    <td>{{ activity.date_logged.strftime('%Y-%m-%d') }}</td>
                    <td>{{ activity.activity_type }}</td>
                    <td>{{ activity.duration_minutes | round(1) }}</td>
                    <td>{{ activity.calories_burned }}</td>
                    <td>{{ activity.distance_miles | round(2) }}</td>
                    <td>{{ activity.notes if activity.notes else '-' }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p>No activity entries logged yet. Time to get moving!</p>
    {% endif %}

{% endblock %}